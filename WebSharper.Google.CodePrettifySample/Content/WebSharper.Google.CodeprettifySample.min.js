function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Cctor:function(n){var t=!0;return function(){t&&(t=!1,n())}},Class:function(n,t,i){var e=t?new t:{},r=function(n){if(n)for(var t in n)this[t]=n[t]},u,f;for(u in n)e[u]=n[u];if(r.prototype=e,i)for(f in i)r[f]=i[f];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"init"in this&&(n(this.init),this.init=[]);"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){window.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Google=b.Google||{};d=c.CodePrettifySample=c.CodePrettifySample||{};e=d.Client=d.Client||{};f=b.UI=b.UI||{};g=f.Next=f.Next||{};h=g.AttrModule=g.AttrModule||{};i=b.Operators=b.Operators||{};j=g.Doc=g.Doc||{};k=b.JavaScript=b.JavaScript||{};l=k.Pervasives=k.Pervasives||{};m=g.Attrs=g.Attrs||{};n=g.DomUtility=g.DomUtility||{};o=g.AttrProxy=g.AttrProxy||{};p=g.Client=g.Client||{};q=p.DocNode=p.DocNode||{};r=g.Array=g.Array||{};s=b.Unchecked=b.Unchecked||{};t=b.Arrays=b.Arrays||{};u=g.Docs=g.Docs||{};v=g.View=g.View||{};w=g.Elt=g.Elt||{};x=g.DocElemNode=g.DocElemNode||{};y=b.List=b.List||{};z=y.T=y.T||{};A=g.Abbrev=g.Abbrev||{};B=A.Fresh=A.Fresh||{};C=g.Snap=g.Snap||{};D=a.StartupCode$WebSharper_UI_Next$DomUtility=a.StartupCode$WebSharper_UI_Next$DomUtility||{};E=A.Mailbox=A.Mailbox||{};F=g.Var=g.Var||{};G=p.Attrs=p.Attrs||{};H=G.Dyn=G.Dyn||{};I=b.Enumerator=b.Enumerator||{};J=b.Seq=b.Seq||{};K=a.StartupCode$WebSharper_UI_Next$Attr_Client=a.StartupCode$WebSharper_UI_Next$Attr_Client||{};L=p.Docs=p.Docs||{};M=L.RunState=L.RunState||{};N=L.NodeSet=L.NodeSet||{};O=g.An=g.An||{};P=A.Async=A.Async||{};Q=I.T=I.T||{};R=a.StartupCode$WebSharper_UI_Next$Abbrev=a.StartupCode$WebSharper_UI_Next$Abbrev||{};S=b.Collections=b.Collections||{};T=S.HashSet=S.HashSet||{};U=b.Concurrency=b.Concurrency||{};V=g.Anims=g.Anims||{};W=g.AppendList=g.AppendList||{};X=a.StartupCode$WebSharper_UI_Next$Animation=a.StartupCode$WebSharper_UI_Next$Animation||{};Y=A.HashSet=A.HashSet||{};Z=U.Scheduler=U.Scheduler||{};_0=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};_1=g.Easing=g.Easing||{};_2=L.DomNodes=L.DomNodes||{};_3=b.OperationCanceledException=b.OperationCanceledException||{};_4=b.CancellationTokenSource=b.CancellationTokenSource||{};_5=S.HashSetUtil=S.HashSetUtil||{};_6=a.StartupCode$WebSharper_UI_Next$AppendList=a.StartupCode$WebSharper_UI_Next$AppendList||{};_7=b.Lazy=b.Lazy||{};_8=a.IntelliFactory;_9=_8&&_8.Runtime;e.Main=function(){var _,$,ba,bb,bc;a.PR.prettyPrint();_=a.PR.prettyPrintOne("let f x y = x*y |> true |> \"dvcsdv\"","ml",5);$=(ba=[h.Class("prettyprint")],j.Element("pre",ba,[]));bb=j.Button("Dynamic highlighting",[],function(){$.elt.innerHTML="let f x y = x*y |> true |> \"dvcsdv\"";a.PR.prettyPrint();});bc=j.Concat([j.Verbatim(_),j.Element("br",[],[]),bb,$]);j.RunById("main",bc);};h.Class=function(_){return m.Static(function($){n.AddClass($,_);});};i.FailWith=function(_){throw a.Error(_);};i.DefaultArg=function(_,$){return _==null?$:_.$0;};i.Compare=function(_,$){return s.Compare(_,$);};j=g.Doc=_9.Class({},null,j);j.Element=function(_,$,ba){var bb,bc,bd;bb=o.Concat($);bc=j.Concat(ba);bd=n.CreateElement(_);return w.New(bd,bb,bc);};j.Button=function(_,$,ba){var bb,bc,bd;bb=o.Concat($);bc=j.Clickable("button",ba);bd=j.TextNode(_);return w.New(bc,bb,bd);};j.Concat=function(_){var $,ba;$=r.ofSeqNonCopying(_);ba=j.Empty();return r.TreeReduce(ba,j.Append,$);};j.Verbatim=function(_){var $,ba,bb,bc;$=(ba=a.jQuery.parseHTML(_),s.Equals(ba,null)?[]:ba);bb=r.MapTreeReduce(function(bd){return s.Equals(bd.nodeType,a.Node.TEXT_NODE)?{$:5,$0:bd}:{$:1,$0:u.CreateElemNode(bd,m.EmptyAttr(),q.EmptyDoc)};},q.EmptyDoc,function(bd,be){return{$:0,$0:bd,$1:be};},$);bc=v.Const();return j.Mk(bb,bc);};j.RunById=function(_,$){var ba;ba=n.Doc().getElementById(_);s.Equals(ba,null)?i.FailWith("invalid id: "+_):j.Run(ba,$);};j.Clickable=function(_,$){var ba;ba=n.CreateElement(_);ba.addEventListener("click",function(bb){bb.preventDefault();return $();},false);return ba;};j.TextNode=function(_){var $,ba;$={$:5,$0:n.CreateText(_)};ba=v.Const();return j.Mk($,ba);};j.Empty=function(){var _,$;_=q.EmptyDoc;$=v.Const();return j.Mk(_,$);};j.Append=function(_,$){var ba,bb,bc,bd;ba=(bb=_.updates,(bc=$.updates,v.Map2Unit(bb,bc)));bd={$:0,$0:_.docNode,$1:$.docNode};return j.Mk(bd,ba);};j.Mk=function(_,$){return new j.New(_,$);};j.Run=function(_,$){var ba,bb,bc,bd;ba=$.docNode;u.LinkElement(_,ba);bb=u.CreateRunState(_,ba);bc=E.StartProcessor(u.PerformAnimatedUpdate(bb,ba));bd=$.updates;v.Sink(bc,bd);};j.New=_9.Ctor(function(_,$){this.docNode=_;this.updates=$;},j);l.NewFromSeq=function(_){var $,ba,bb;$={};ba=I.Get(_);try{while(ba.MoveNext()){bb=ba.Current();$[bb[0]]=bb[1];}}finally{if("Dispose"in ba)ba.Dispose();}return $;};m.Static=function(_){return new o({$:3,$0:_});};m.Insert=function(_,$){var ba,bb,bc;function bd(be){var bf;if(!(be===null))if(be!=null?be.$==1:false)ba.push(be.$0);else if(be!=null?be.$==2:false){bf=be.$1;bd(be.$0);bd(bf);}else if(be!=null?be.$==3:false)be.$0(_);else if(be!=null?be.$==4:false)bb.push(be.$0);}ba=[];bb=[];bd($);bc=ba.slice(0);return H.New(_,m.Flags($),bc,bb.length===0?null:{$:1,$0:function(be){J.iter(function(bf){bf(be);},bb);}});};m.EmptyAttr=function(){K.$cctor();return K.EmptyAttr;};m.AppendTree=function(_,$){var ba;return _===null?$:$===null?_:(ba=new o({$:2,$0:_,$1:$}),(m.SetFlags(ba,m.Flags(_)|m.Flags($)),ba));};m.Updates=function(_){var $,ba;$=_.DynNodes;ba=v.Const();return r.MapTreeReduce(function(bb){return bb.NChanged();},ba,v.Map2Unit,$);};m.Flags=function(_){return(_!==null?_.hasOwnProperty("flags"):false)?_.flags:0;};m.SetFlags=function(_,$){_.flags=$;};m.HasChangeAnim=function(_){var $;$=4;return(_.DynFlags&$)===$;};m.GetChangeAnim=function(_){return m.GetAnim(_,function($,ba){return $.NGetChangeAnim(ba);});};m.HasEnterAnim=function(_){var $;$=1;return(_.DynFlags&$)===$;};m.GetEnterAnim=function(_){return m.GetAnim(_,function($,ba){return $.NGetEnterAnim(ba);});};m.HasExitAnim=function(_){var $;$=2;return(_.DynFlags&$)===$;};m.GetExitAnim=function(_){return m.GetAnim(_,function($,ba){return $.NGetExitAnim(ba);});};m.GetAnim=function(_,$){var ba;return O.Concat((ba=function(bb){return $(bb,_.DynElem);},function(bb){return t.map(ba,bb);}(_.DynNodes)));};m.Sync=function(_,$){var ba;ba=function(bb){bb.NSync(_);};(function(bb){t.iter(ba,bb);}($.DynNodes));};n.AddClass=function(_,$){var ba;ba=a.jQuery(_).addClass($);};n.CreateElement=function(_){return n.Doc().createElement(_);};n.Doc=function(){D.$cctor();return D.Doc;};n.CreateText=function(_){return n.Doc().createTextNode(_);};n.InsertAt=function(_,$,ba){var bb,bc;!(ba.parentNode===_?$===(bb=ba.nextSibling,s.Equals(bb,null)?null:bb):false)?bc=_.insertBefore(ba,$):void 0;};n.RemoveNode=function(_,$){var ba;if($.parentNode===_){ba=_.removeChild($);}};o=g.AttrProxy=_9.Class({},null,o);o.Concat=function(_){var $,ba;$=r.ofSeqNonCopying(_);ba=m.EmptyAttr();return r.TreeReduce(ba,o.Append,$);};o.Append=function(_,$){return m.AppendTree(_,$);};q.EmptyDoc={$:3};r.ofSeqNonCopying=function(_){var $,ba,bb;if(_ instanceof a.Array)return _;else if(_ instanceof z)return t.ofList(_);else if(_===null)return[];else{$=[];ba=I.Get(_);try{while(ba.MoveNext()){bb=$.push(ba.Current());}return $;}finally{if("Dispose"in ba)ba.Dispose();}}};r.TreeReduce=function(_,$,ba){var bb;function bc(bd,be){var bf,bg;return be<=0?_:(be===1?(bd>=0?bd<bb:false)?true:false:false)?t.get(ba,bd):(bg=be/2>>0,$(bc(bd,bg),bc(bd+bg,be-bg)));}bb=t.length(ba);return bc(0,bb);};r.MapTreeReduce=function(_,$,ba,bb){var bc;function bd(be,bf){var bg,bh;return bf<=0?$:(bf===1?(be>=0?be<bc:false)?true:false:false)?_(t.get(bb,be)):(bh=bf/2>>0,ba(bd(be,bh),bd(be+bh,bf-bh)));}bc=t.length(bb);return bd(0,bc);};s.Equals=function(_,$){var ba,bb,bc,bd;if(_===$)return true;else{ba=typeof _;if(ba=="object"){if(((_===null?true:_===void 0)?true:$===null)?true:$===void 0)return false;else if("Equals"in _)return _.Equals($);else if(_ instanceof a.Array?$ instanceof a.Array:false)return s.arrayEquals(_,$);else if(_ instanceof a.Date?$ instanceof a.Date:false)return s.dateEquals(_,$);else{bb=[true];for(var be in _)if(function(bf){bb[0]=!_.hasOwnProperty(bf)?true:$.hasOwnProperty(bf)?s.Equals(_[bf],$[bf]):false;return!bb[0];}(be))break;if(bb[0]){for(var bf in $)if(function(bg){bb[0]=!$.hasOwnProperty(bg)?true:_.hasOwnProperty(bg);return!bb[0];}(bf))break;}return bb[0];}}else return ba=="function"?"$Func"in _?_.$Func===$.$Func?_.$Target===$.$Target:false:("$Invokes"in _?"$Invokes"in $:false)?s.arrayEquals(_.$Invokes,$.$Invokes):false:false;}};s.arrayEquals=function(_,$){var ba,bb;if(t.length(_)===t.length($)){ba=true;bb=0;while(ba?bb<t.length(_):false){!s.Equals(t.get(_,bb),t.get($,bb))?ba=false:void 0;bb=bb+1;}return ba;}else return false;};s.dateEquals=function(_,$){return _.getTime()===$.getTime();};s.Hash=function(_){var $;$=typeof _;return $=="function"?0:$=="boolean"?_?1:0:$=="number"?_:$=="string"?s.hashString(_):$=="object"?_==null?0:_ instanceof a.Array?s.hashArray(_):s.hashObject(_):0;};s.hashString=function(_){var $,ba,bb;if(_===null)return 0;else{$=5381;for(ba=0,bb=_.length-1;ba<=bb;ba++)$=s.hashMix($,_.charCodeAt(ba)<<0);return $;}};s.hashArray=function(_){var $,ba,bb;$=-34948909;for(ba=0,bb=t.length(_)-1;ba<=bb;ba++)$=s.hashMix($,s.Hash(t.get(_,ba)));return $;};s.hashObject=function(_){var $,ba,bb;if("GetHashCode"in _)return _.GetHashCode();else{$=s.hashMix;ba=[0];for(var bc in _)if(function(bd){ba[0]=$($(ba[0],s.hashString(bd)),s.Hash(_[bd]));return false;}(bc))break;return ba[0];}};s.Compare=function(_,$){var ba,bb,bc,bd,be,bf;if(_===$)return 0;else{bb=typeof _;switch(bb=="function"?1:bb=="boolean"?2:bb=="number"?2:bb=="string"?2:bb=="object"?3:0){case 0:return typeof $=="undefined"?0:-1;break;case 1:return i.FailWith("Cannot compare function values.");break;case 2:return _<$?-1:1;break;case 3:if(_===null)bc=-1;else if($===null)bc=1;else if("CompareTo"in _)bc=_.CompareTo($);else if("CompareTo0"in _)bc=_.CompareTo0($);else if(_ instanceof a.Array?$ instanceof a.Array:false)bc=s.compareArrays(_,$);else if(_ instanceof a.Date?$ instanceof a.Date:false)bc=s.compareDates(_,$);else{bd=[0];for(var bg in _)if(function(bh){return!_.hasOwnProperty(bh)?false:!$.hasOwnProperty(bh)?(bd[0]=1,true):(bd[0]=s.Compare(_[bh],$[bh]),bd[0]!==0);}(bg))break;if(bd[0]===0){for(var bh in $)if(function(bi){return!$.hasOwnProperty(bi)?false:!_.hasOwnProperty(bi)?(bd[0]=-1,true):false;}(bh))break;}bc=bd[0];}return bc;break;}}};s.hashMix=function(_,$){return(_<<5)+_+$;};s.compareArrays=function(_,$){var ba,bb;if(t.length(_)<t.length($))return -1;else if(t.length(_)>t.length($))return 1;else{ba=0;bb=0;while(ba===0?bb<t.length(_):false){ba=s.Compare(t.get(_,bb),t.get($,bb));bb=bb+1;}return ba;}};s.compareDates=function(_,$){return i.Compare(_.getTime(),$.getTime());};t.get=function(_,$){t.checkBounds(_,$);return _[$];};t.length=function(_){return _.dims===2?_.length*_.length:_.length;};t.checkBounds=function(_,$){if($<0?true:$>=_.length)i.FailWith("Index was outside the bounds of the array.");};t.set=function(_,$,ba){t.checkBounds(_,$);_[$]=ba;};u.CreateElemNode=function(_,$,ba){var bb;u.LinkElement(_,ba);bb=m.Insert(_,$);return x.New(bb,ba,null,_,B.Int(),_9.GetOptional(bb.OnAfterRender));};u.LinkElement=function(_,$){var ba;ba=u.InsertDoc(_,$,null);};u.CreateRunState=function(_,$){return M.New(N.get_Empty(),u.CreateElemNode(_,m.EmptyAttr(),$));};u.PerformAnimatedUpdate=function(_,$){var ba;return O.get_UseAnimations()?U.Delay(function(){var bb,bc,bd,be,bf;bb=N.FindAll($);bc=u.ComputeChangeAnim(_,bb);bd=u.ComputeEnterAnim(_,bb);be=u.ComputeExitAnim(_,bb);bf=O.Play(O.Append(bc,be));return U.Bind(bf,function(){u.SyncElemNode(_.Top);return U.Bind(O.Play(bd),function(){_.PreviousNodes=bb;return U.Return(null);});});}):(ba=function(bb){var bc;bc=a.requestAnimationFrame(function(){u.SyncElemNode(_.Top);bb();});},U.FromContinuations(function(bb,bc,bd){return ba.apply(null,[bb,bc,bd]);}));};u.InsertDoc=function(_,$,ba){var bb,bc,bd,be,bf,bg,bh;return $.$==1?(bb=$.$0,u.InsertNode(_,bb.El,ba)):$.$==2?(bc=$.$0,(bc.Dirty=false,u.InsertDoc(_,bc.Current,ba))):$.$==3?ba:$.$==4?(bd=$.$0,u.InsertNode(_,bd.Text,ba)):$.$==5?(be=$.$0,u.InsertNode(_,be,ba)):$.$==6?(bf=$.$0,t.foldBack(function(bi,bj){return bi.constructor===a.Object?u.InsertDoc(_,bi,bj):u.InsertNode(_,bi,bj);},bf.Els,ba)):(bg=$.$1,(bh=$.$0,u.InsertDoc(_,bh,u.InsertDoc(_,bg,ba))));};u.ComputeChangeAnim=function(_,$){var ba,bb,bc,bd,be;ba=(bb=function(bf){return m.HasChangeAnim(bf.Attr);},function(bf){return N.Filter(bb,bf);});return O.Concat((bc=function(bf){return m.GetChangeAnim(bf.Attr);},function(bf){return t.map(bc,bf);}(N.ToArray((bd=ba(_.PreviousNodes),(be=ba($),N.Intersect(bd,be)))))));};u.ComputeEnterAnim=function(_,$){var ba,bb,bc,bd;return O.Concat((ba=function(be){return m.GetEnterAnim(be.Attr);},function(be){return t.map(ba,be);}(N.ToArray((bb=(bc=function(be){return m.HasEnterAnim(be.Attr);},function(be){return N.Filter(bc,be);}($)),(bd=_.PreviousNodes,N.Except(bd,bb)))))));};u.ComputeExitAnim=function(_,$){var ba,bb,bc;return O.Concat((ba=function(bd){return m.GetExitAnim(bd.Attr);},function(bd){return t.map(ba,bd);}(N.ToArray((bb=(bc=function(bd){return m.HasExitAnim(bd.Attr);},function(bd){return N.Filter(bc,bd);}(_.PreviousNodes)),N.Except($,bb))))));};u.SyncElemNode=function(_){u.SyncElement(_);u.Sync(_.Children);u.AfterRender(_);};u.InsertNode=function(_,$,ba){n.InsertAt(_,ba,$);return $;};u.SyncElement=function(_){function $(ba){function bb(bc){var bd,be,bf;return bc.$==0?(bd=bc.$1,bb(bc.$0)?true:bb(bd)):bc.$==2?(be=bc.$0,be.Dirty?true:bb(be.Current)):bc.$==6?(bf=bc.$0,bf.Dirty?true:t.exists($,bf.Holes)):false;}return bb(ba.Children);}m.Sync(_.El,_.Attr);$(_)?u.DoSyncElement(_):void 0;};u.Sync=function(_){var $,ba,bb,bc,bd;if(_.$==1)u.SyncElemNode(_.$0);else if(_.$==2){$=_.$0;u.Sync($.Current);}else if(_.$==3);else if(_.$==5);else if(_.$==4){ba=_.$0;ba.Dirty?(ba.Text.nodeValue=ba.Value,ba.Dirty=false):void 0;}else if(_.$==6){bb=_.$0;t.iter(function(be){u.SyncElemNode(be);},bb.Holes);t.iter(function(be){var bf,bg;bf=be[0];bg=be[1];m.Sync(bf,bg);},bb.Attrs);u.AfterRender(bb);}else{bc=_.$1;bd=_.$0;u.Sync(bd);u.Sync(bc);}};u.AfterRender=function(_){var $,ba;$=_9.GetOptional(_.Render);($!=null?$.$==1:false)?(ba=$.$0,ba(_.El),_9.SetOptional(_,"Render",null)):void 0;};u.DoSyncElement=function(_){var $,ba,bb,bc,bd,be,bf,bg,bh,bi;function bj(bk,bl){var bm,bn;return bk.$==1?bk.$0.El:bk.$==2?(bm=bk.$0,bm.Dirty?(bm.Dirty=false,u.InsertDoc($,bm.Current,bl)):bj(bm.Current,bl)):bk.$==3?bl:bk.$==4?bk.$0.Text:bk.$==5?bk.$0:bk.$==6?(bn=bk.$0,(bn.Dirty?bn.Dirty=false:void 0,t.foldBack(function(bo,bp){return bo.constructor===a.Object?bj(bo,bp):bo;},bn.Els,bl))):bj(bk.$0,bj(bk.$1,bl));}$=_.El;ba=_2.DocChildren(_);bb=(bc=(bd=_.El,(be=_9.GetOptional(_.Delimiters),_2.Children(bd,be))),_2.Except(ba,bc));bf=(bg=_.El,function(bk){n.RemoveNode(bg,bk);});_2.Iter(bf,bb);bi=bj(_.Children,(bh=_9.GetOptional(_.Delimiters),(bh!=null?bh.$==1:false)?bh.$0[1]:null));};v.Const=function(_){var $;$=C.CreateForever(_);return function(){return $;};};v.Map2Unit=function(_,$){return v.CreateLazy(function(){var ba,bb;ba=_();bb=$();return C.Map2Unit(ba,bb);});};v.Sink=function(_,$){function ba(){var bb;bb=$();C.When(bb,_,function(){P.Schedule(ba);});}P.Schedule(ba);};v.Bind=function(_,$){return v.Join(v.Map(_,$));};v.CreateLazy=function(_){var $;$={c:null,o:_};return function(){var ba;ba=$.c;return ba===null?(ba=$.o(),$.c=ba,C.IsForever(ba)?$.o=null:C.WhenObsolete(ba,function(){$.c=null;}),ba):ba;};};v.Join=function(_){return v.CreateLazy(function(){return C.Join(_());});};v.Map=function(_,$){return v.CreateLazy(function(){var ba;ba=$();return C.Map(_,ba);});};w=g.Elt=_9.Class({},j,w);w.New=function(_,$,ba){var bb,bc,bd,be,bf;bb=u.CreateElemNode(_,$,ba.docNode);bc=F.Create$1(ba.updates);bd=m.Updates(bb.Attr);be=(bf=bc.v,v.Bind(function(bg){return v.Map2Unit(bd,bg);},bf));return new w.New$1({$:1,$0:bb},be,_,bc);};w.New$1=_9.Ctor(function(_,$,ba,bb){j.New.call(this,_,$);this.docNode$1=_;this.updates$1=$;this.elt=ba;this.rvUpdates=bb;},w);x=g.DocElemNode=_9.Class({Equals:function(_){return this.ElKey===_.ElKey;},GetHashCode:function(){return this.ElKey;}},null,x);x.New=function(_,$,ba,bb,bc,bd){var be;return new x((be={Attr:_,Children:$,El:bb,ElKey:bc},(_9.SetOptional(be,"Delimiters",ba),_9.SetOptional(be,"Render",bd),be)));};z=y.T=_9.Class({GetEnumerator:function(){return new Q.New(this,null,function(_){var $,ba;$=_.s;return $.$==0?false:(ba=$.$1,(_.c=$.$0,_.s=ba,true));},void 0);}},null,z);t.ofList=function(_){var $,ba;ba=[];$=_;while(!($.$==0)){ba.push(y.head($));$=y.tail($);}return ba;};t.foldBack=function(_,$,ba){var bb,bc,bd,be,bf;bb=ba;bd=$.length;for(be=1,bf=bd;be<=bf;be++)bb=_($[bd-be],bb);return bb;};t.iter=function(_,$){var ba,bb;for(ba=0,bb=$.length-1;ba<=bb;ba++)_($[ba]);};t.map=function(_,$){var ba,bb,bc,bd;bb=(ba=$.length,new a.Array(ba));for(bc=0,bd=$.length-1;bc<=bd;bc++)bb[bc]=_($[bc]);return bb;};t.choose=function(_,$){var ba,bb,bc,bd;ba=[];for(bb=0,bc=$.length-1;bb<=bc;bb++){bd=_($[bb]);bd==null?void 0:ba.push(bd.$0);}return ba;};t.exists=function(_,$){var ba,bb,bc,bd;ba=false;bb=0;bd=t.length($);while(!ba?bb<bd:false)if(_($[bb]))ba=true;else bb=bb+1;return ba;};t.filter=function(_,$){var ba,bb,bc;ba=[];for(bb=0,bc=$.length-1;bb<=bc;bb++)if(_($[bb]))ba.push($[bb]);return ba;};t.create=function(_,$){var ba,bb,bc;ba=new a.Array(_);for(bb=0,bc=_-1;bb<=bc;bb++)ba[bb]=$;return ba;};t.init=function(_,$){var ba,bb,bc;_<0?i.FailWith("Negative size given."):null;ba=new a.Array(_);for(bb=0,bc=_-1;bb<=bc;bb++)ba[bb]=$(bb);return ba;};t.forall=function(_,$){var ba,bb,bc,bd;ba=true;bb=0;bd=t.length($);while(ba?bb<bd:false)if(_($[bb]))bb=bb+1;else ba=false;return ba;};B.Int=function(){B.set_counter(B.counter()+1);return B.counter();};B.set_counter=function(_){R.$cctor();R.counter=_;};B.counter=function(){R.$cctor();return R.counter;};C.CreateForever=function(_){return C.Make({$:0,$0:_});};C.Map2Unit=function(_,$){var ba,bb,bc,bd;function be(){var bf,bg,bh,bi;if(!C.IsDone(bc)){bf=C.ValueAndForever(_);bg=C.ValueAndForever($);(bf!=null?bf.$==1:false)?(bg!=null?bg.$==1:false)?(bh=bf.$0[1],bi=bg.$0[1],(bh?bi:false)?C.MarkForever(bc,null):C.MarkReady(bc,null)):void 0:void 0;}}ba=_.s;bb=$.s;return ba.$==0?bb.$==0?C.CreateForever():$:bb.$==0?_:(bc=C.Create(),(bd=C.Obs(bc),(C.When(_,be,bd),C.When($,be,bd),bc)));};C.Make=function(_){return{s:_};};C.When=function(_,$,ba){var bb,bc,bd;bb=_.s;bb.$==1?ba():bb.$==2?(bc=bb.$0,bb.$1.push(ba),$(bc)):bb.$==3?(bd=bb.$1,bb.$0.push($),bd.push(ba)):$(bb.$0);};C.CreateWithValue=function(_){return C.Make({$:2,$0:_,$1:[]});};C.IsForever=function(_){return _.s.$==0?true:false;};C.WhenObsolete=function(_,$){var ba;ba=_.s;ba.$==1?$():ba.$==2?ba.$1.push($):ba.$==3?ba.$1.push($):void 0;};C.Create=function(){return C.Make({$:3,$0:[],$1:[]});};C.Obs=function(_){return function(){C.MarkObsolete(_);};};C.IsDone=function(_){var $;$=_.s;return $.$==0?true:$.$==2?true:false;};C.ValueAndForever=function(_){var $;$=_.s;return $.$==0?{$:1,$0:[$.$0,true]}:$.$==2?{$:1,$0:[$.$0,false]}:null;};C.MarkForever=function(_,$){var ba,bb;ba=_.s;ba.$==3?(bb=ba.$0,_.s={$:0,$0:$},J.iter(function(bc){bc($);},bb)):void 0;};C.MarkReady=function(_,$){var ba,bb,bc;ba=_.s;ba.$==3?(bb=ba.$1,bc=ba.$0,_.s={$:2,$0:$,$1:bb},J.iter(function(bd){bd($);},bc)):void 0;};C.Join=function(_){var $,ba;$=C.Create();ba=C.Obs($);C.When(_,function(bb){var bc;bc=bb();C.When(bc,function(bd){if(C.IsForever(bc)?C.IsForever(_):false)C.MarkForever($,bd);else C.MarkReady($,bd);},ba);},ba);return $;};C.Map=function(_,$){var ba,bb,bc,bd;ba=$.s;return ba.$==0?(bb=ba.$0,C.CreateForever(_(bb))):(bc=C.Create(),(C.When($,(bd=function(be){C.MarkDone(bc,$,be);},function(be){return bd(_(be));}),C.Obs(bc)),bc));};C.MarkObsolete=function(_){var $,ba;$=_.s;($.$==1?true:$.$==2?(ba=$.$1,false):$.$==3?(ba=$.$1,false):true)?void 0:(_.s={$:1},J.iter(function(bb){bb();},ba));};C.MarkDone=function(_,$,ba){if(C.IsForever($))C.MarkForever(_,ba);else C.MarkReady(_,ba);};D.$cctor=_9.Cctor(function(){D.Doc=a.document;D.$cctor=a.ignore;});E.StartProcessor=function(_){var $;function ba(){return U.Delay(function(){return U.Bind(_,function(){var bb,bc;bb=$[0];return s.Equals(bb,1)?($[0]=0,U.Return(null)):s.Equals(bb,2)?($[0]=1,bc=ba(),U.Bind(bc,function(){return U.Return(null);})):U.Return(null);});});}$=[0];return function(){var bb,bc;bb=$[0];s.Equals(bb,0)?($[0]=1,bc=ba(),U.Start(bc,null)):s.Equals(bb,1)?$[0]=2:void 0;};};F.Create$1=function(_){var $;$=null;$=F.New(false,_,C.CreateWithValue(_),B.Int(),function(){return $.s;});return $;};F=g.Var=_9.Class({},null,F);F.New=function(_,$,ba,bb,bc){return new F({o:_,c:$,s:ba,i:bb,v:bc});};H.New=function(_,$,ba,bb){var bc;bc={DynElem:_,DynFlags:$,DynNodes:ba};_9.SetOptional(bc,"OnAfterRender",bb);return bc;};y.head=function(_){return _.$==1?_.$0:y.listEmpty();};y.tail=function(_){return _.$==1?_.$1:y.listEmpty();};y.listEmpty=function(){return i.FailWith("The input list was empty.");};I.Get=function(_){return _ instanceof a.Array?I.ArrayEnumerator(_):s.Equals(typeof _,"string")?I.StringEnumerator(_):_.GetEnumerator();};I.ArrayEnumerator=function(_){return new Q.New(0,null,function($){var ba;ba=$.s;return ba<t.length(_)?($.c=t.get(_,ba),$.s=ba+1,true):false;},void 0);};I.StringEnumerator=function(_){return new Q.New(0,null,function($){var ba;ba=$.s;return ba<_.length?($.c=_.charCodeAt(ba),$.s=ba+1,true):false;},void 0);};J.iter=function(_,$){var ba;ba=I.Get($);try{while(ba.MoveNext())_(ba.Current());}finally{if("Dispose"in ba)ba.Dispose();}};J.map=function(_,$){return{GetEnumerator:function(){var ba;ba=I.Get($);return new Q.New(null,null,function(bb){return ba.MoveNext()?(bb.c=_(ba.Current()),true):false;},function(){ba.Dispose();});}};};J.max=function(_){return J.reduce(function($,ba){return s.Compare($,ba)>=0?$:ba;},_);};J.reduce=function(_,$){var ba,bb;ba=I.Get($);try{if(!ba.MoveNext())i.FailWith("The input sequence was empty");bb=ba.Current();while(ba.MoveNext())bb=_(bb,ba.Current());return bb;}finally{if("Dispose"in ba)ba.Dispose();}};K.$cctor=_9.Cctor(function(){K.EmptyAttr=null;K.$cctor=a.ignore;});M.New=function(_,$){return{PreviousNodes:_,Top:$};};N.get_Empty=function(){return{$:0,$0:new T.New$3()};};N.FindAll=function(_){var $;function ba(bc){var bd,be,bf;if(bc.$==0){bd=bc.$1;ba(bc.$0);ba(bd);}else if(bc.$==1)bb(bc.$0);else if(bc.$==2)ba(bc.$0.Current);else if(bc.$==6){be=bc.$0;bf=be.Holes;t.iter(bb,bf);}}function bb(bc){$.push(bc);ba(bc.Children);}$=[];ba(_);return{$:0,$0:new T.New$2($)};};N.Filter=function(_,$){var ba;ba=$.$0;return{$:0,$0:Y.Filter(_,ba)};};N.Intersect=function(_,$){var ba,bb;ba=_.$0;bb=$.$0;return{$:0,$0:Y.Intersect(ba,bb)};};N.ToArray=function(_){return Y.ToArray(_.$0);};N.Except=function(_,$){var ba,bb;ba=_.$0;bb=$.$0;return{$:0,$0:Y.Except(ba,bb)};};O.get_UseAnimations=function(){return V.UseAnimations();};O.Play=function(_){return U.Delay(function(){var $,ba;$=(ba=function(){},function(bb){return O.Run(ba,bb);}(V.Actions(_)));return U.Bind($,function(){V.Finalize(_);return U.Return(null);});});};O.Append=function(_,$){var ba,bb;ba=_.$0;bb=$.$0;return{$:0,$0:W.Append(ba,bb)};};O.Concat=function(_){return{$:0,$0:W.Concat(J.map(V.List,_))};};O.Run=function(_,$){var ba,bb;ba=$.Duration;bb=function(bc){var bd;function be(bf,bg){var bh,bi;bh=bg-bf;$.Compute(bh);_();return bh<=ba?(bi=a.requestAnimationFrame(function(bj){be(bf,bj);}),void 0):bc();}bd=a.requestAnimationFrame(function(bf){be(bf,bf);});};return U.FromContinuations(function(bc,bd,be){return bb.apply(null,[bc,bd,be]);});};P.Schedule=function(_){U.Start(U.Delay(function(){_();return U.Return(null);}),null);};Q=I.T=_9.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},null,Q);Q.New=_9.Ctor(function(_,$,ba,bb){this.s=_;this.c=$;this.n=ba;this.d=bb;},Q);R.$cctor=_9.Cctor(function(){R.counter=0;R.$cctor=a.ignore;});T=S.HashSet=_9.Class({add:function(_){var $,ba,bb;$=this.hash(_);ba=this.data[$];return ba==null?(this.data[$]=[_],this.count=this.count+1,true):this.arrContains(_,ba)?false:(bb=ba.push(_),this.count=this.count+1,true);},IntersectWith:function(_){var $,ba,bb,bc,bd,be;$=new T.New$4(_,this.equals,this.hash);ba=_5.concat(this.data);for(bb=0,bc=ba.length-1;bb<=bc;bb++){bd=ba[bb];!$.Contains(bd)?be=this.Remove(bd):void 0;}},get_Count:function(){return this.count;},CopyTo:function(_){var $,ba,bb,bc;$=0;ba=_5.concat(this.data);for(bb=0,bc=ba.length-1;bb<=bc;bb++)t.set(_,bb,ba[bb]);},ExceptWith:function(_){var $,ba;$=I.Get(_);try{while($.MoveNext()){ba=this.Remove($.Current());}}finally{if("Dispose"in $)$.Dispose();}},arrContains:function(_,$){var ba,bb,bc,bd;ba=true;bb=0;bd=$.length;while(ba?bb<bd:false)if(this.equals.apply(null,[$[bb],_]))ba=false;else bb=bb+1;return!ba;},Contains:function(_){var $;$=this.data[this.hash(_)];return $==null?false:this.arrContains(_,$);},Remove:function(_){var $;$=this.data[this.hash(_)];return $==null?false:this.arrRemove(_,$)?(this.count=this.count-1,true):false;},arrRemove:function(_,$){var ba,bb,bc,bd,be;ba=true;bb=0;bd=$.length;while(ba?bb<bd:false)if(this.equals.apply(null,[$[bb],_])){be=$.splice.apply($,[bb,1].concat([]));ba=false;}else bb=bb+1;return!ba;},GetEnumerator:function(){return I.Get(_5.concat(this.data));}},null,T);T.New$3=_9.Ctor(function(){T.New$4.call(this,[],s.Equals,s.Hash);},T);T.New$2=_9.Ctor(function(_){T.New$4.call(this,_,s.Equals,s.Hash);},T);T.New$4=_9.Ctor(function(_,$,ba){var bb,bc;this.equals=$;this.hash=ba;this.data=a.Array.prototype.constructor.apply(a.Array,[]);this.count=0;bb=I.Get(_);try{while(bb.MoveNext()){bc=this.add(bb.Current());}}finally{if("Dispose"in bb)bb.Dispose();}},T);U.Delay=function(_){return function($){try{(_(null))($);}catch(ba){$.k({$:1,$0:ba});}};};U.Bind=function(_,$){return U.checkCancel(function(ba){_({k:function(bb){var bc;if(bb.$==0){bc=bb.$0;U.scheduler().Fork(function(){try{($(bc))(ba);}catch(bd){ba.k({$:1,$0:bd});}});}else U.scheduler().Fork(function(){ba.k(bb);});},ct:ba.ct});});};U.Return=function(_){return function($){$.k({$:0,$0:_});};};U.Start=function(_,$){var ba;ba=i.DefaultArg($,(U.defCTS())[0]);U.scheduler().Fork(function(){if(!ba.c)_({k:function(bb){if(bb.$==1)U.UncaughtAsyncError(bb.$0);},ct:ba});});};U.FromContinuations=function(_){return function($){var ba,bb;ba=[false];bb=function(bc){if(ba[0])i.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{ba[0]=true;U.scheduler().Fork(bc);}};_(function(bc){bb(function(){$.k({$:0,$0:bc});});},function(bc){bb(function(){$.k({$:1,$0:bc});});},function(bc){bb(function(){$.k({$:2,$0:bc});});});};};U.checkCancel=function(_){return function($){if($.ct.c)U.cancel($);else _($);};};U.defCTS=function(){_0.$cctor();return _0.defCTS;};U.UncaughtAsyncError=function(_){a.console.log.apply(a.console,["WebSharper: Uncaught asynchronous exception"].concat([_]));};U.cancel=function(_){_.k({$:2,$0:new _3.New(_.ct)});};U.scheduler=function(){_0.$cctor();return _0.scheduler;};V.UseAnimations=function(){X.$cctor();return X.UseAnimations;};V.Actions=function(_){var $,ba;$=_.$0;return V.ConcatActions((ba=function(bb){return bb.$==1?{$:1,$0:bb.$0}:null;},function(bb){return t.choose(ba,bb);}(W.ToArray($))));};V.Finalize=function(_){var $,ba;$=_.$0;ba=function(bb){if(bb.$==0)bb.$0();};(function(bb){t.iter(ba,bb);}(W.ToArray($)));};V.List=function(_){return _.$0;};V.ConcatActions=function(_){var $,ba,bb,bc,bd;$=r.ofSeqNonCopying(_);ba=t.length($);return ba===0?V.Const():ba===1?t.get($,0):(bb=J.max((bc=function(be){return be.Duration;},function(be){return J.map(bc,be);}($))),(bd=t.map(function(be){return V.Prolong(bb,be);},$),V.Def(bb,function(be){t.iter(function(bf){bf.Compute(be);},bd);})));};V.Const=function(_){return V.Def(0,function(){return _;});};V.Prolong=function(_,$){var ba,bb,bc;ba=$.Compute;bb=$.Duration;bc=_7.Create(function(){return $.Compute($.Duration);});return{Compute:function(bd){return bd>=bb?bc.f():ba(bd);},Duration:_};};V.Def=function(_,$){return{Compute:$,Duration:_};};W.Append=function(_,$){return _.$==0?$:$.$==0?_:{$:2,$0:_,$1:$};};W.Concat=function(_){var $,ba;$=r.ofSeqNonCopying(_);ba=W.Empty();return r.TreeReduce(ba,W.Append,$);};W.ToArray=function(_){var $;function ba(bb){var bc,bd;if(bb.$==1)$.push(bb.$0);else if(bb.$==2){bc=bb.$1;ba(bb.$0);ba(bc);}else if(bb.$==3){bd=bb.$0;t.iter(function(be){$.push(be);},bd);}}$=[];ba(_);return $.slice(0);};W.Empty=function(){_6.$cctor();return _6.Empty;};X.$cctor=_9.Cctor(function(){X.CubicInOut=_1.Custom(function(_){var $;$=_*_;return 3*$-2*($*_);});X.UseAnimations=true;X.$cctor=a.ignore;});Y.Filter=function(_,$){var ba;return new T.New$2((ba=Y.ToArray($),t.filter(_,ba)));};Y.Intersect=function(_,$){var ba;ba=new T.New$2(Y.ToArray(_));ba.IntersectWith(Y.ToArray($));return ba;};Y.ToArray=function(_){var $;$=t.create(_.get_Count(),void 0);_.CopyTo($);return $;};Y.Except=function(_,$){var ba;ba=new T.New$2(Y.ToArray($));ba.ExceptWith(Y.ToArray(_));return ba;};Z=U.Scheduler=_9.Class({Fork:function(_){var $,ba;$=this;this.robin.push(_);this.idle?(this.idle=false,ba=a.setTimeout(function(){$.tick();},0)):void 0;},tick:function(){var _,$,ba,bb,bc;$=this;ba=a.Date.now();_=true;while(_){bb=this.robin.length;bb===0?(this.idle=true,_=false):((this.robin.shift())(),a.Date.now()-ba>40?(bc=a.setTimeout(function(){$.tick();},0),_=false):void 0);}}},null,Z);Z.New=_9.Ctor(function(){this.idle=true;this.robin=[];},Z);_0.$cctor=_9.Cctor(function(){_0.noneCT={c:false,r:[]};_0.scheduler=new Z.New();_0.defCTS=[new _4.New()];_0.GetCT=function(_){_.k({$:0,$0:_.ct});};_0.$cctor=a.ignore;});_1=g.Easing=_9.Class({},null,_1);_1.Custom=function(_){return new _1.New(_);};_1.New=_9.Ctor(function(_){this.transformTime=_;},_1);_2.DocChildren=function(_){var $;function ba(bb){var bc,bd,be;if(bb.$==2)ba(bb.$0.Current);else if(bb.$==1)$.push(bb.$0.El);else if(bb.$==3);else if(bb.$==5)$.push(bb.$0);else if(bb.$==4)$.push(bb.$0.Text);else if(bb.$==6){bc=bb.$0;bd=function(bf){if(bf.constructor===a.Object)ba(bf);else $.push(bf);};(function(bf){t.iter(bd,bf);}(bc.Els));}else{be=bb.$1;ba(bb.$0);ba(be);}}$=[];ba(_.Children);return{$:0,$0:r.ofSeqNonCopying($)};};_2.Children=function(_,$){var ba,bb,bc,bd,be,bf;if($!=null?$.$==1:false){bc=$.$0[1];bd=$.$0[0];be=a.Array.prototype.constructor.apply(a.Array,[]);ba=bd.nextSibling;while(ba!==bc){bf=be.push(ba);ba=ba.nextSibling;}return{$:0,$0:be};}else return{$:0,$0:t.init(_.childNodes.length,(bb=_.childNodes,function(bg){return bb[bg];}))};};_2.Except=function(_,$){var ba,bb,bc;ba=_.$0;bb=$.$0;return{$:0,$0:(bc=function(bd){var be;be=function(bf){return!(bd===bf);};return function(bf){return t.forall(be,bf);}(ba);},function(bd){return t.filter(bc,bd);}(bb))};};_2.Iter=function(_,$){var ba;ba=$.$0;t.iter(_,ba);};_3=b.OperationCanceledException=_9.Class({},null,_3);_3.New=_9.Ctor(function(_){_3.New$1.call(this,"The operation was canceled.",null,_);},_3);_3.New$1=_9.Ctor(function(_,$,ba){this.message=_;this.inner=$;this.ct=ba;},_3);_4=b.CancellationTokenSource=_9.Class({},null,_4);_4.New=_9.Ctor(function(){this.c=false;this.pending=null;this.r=[];this.init=1;},_4);_5.concat=function(_){var $,ba;$=[];for(var bb in _)$.push.apply($,_[bb]);return $;};_6.$cctor=_9.Cctor(function(){_6.Empty={$:0};_6.$cctor=a.ignore;});_7.Create=function(_){return{c:false,v:_,f:_7.forceLazy};};_7.forceLazy=function(){var _;_=this.v();this.c=true;this.v=_;this.f=_7.cachedLazy;return _;};_7.cachedLazy=function(){return this.v;};e.Main();}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
